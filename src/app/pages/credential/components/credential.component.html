<div class="container-fluid">
  <div class="row center" id="statusCredentials">
    <div class="col s8 offset-s2">
      <span class="type">Débito</span>
      <span [style.color]="(debitBalance > 0) ? 'green' : 'red'">
        <b>$ {{ debitBalance | number: '1.2-2' }}</b>
      </span>
    </div>
    <div class="col s8 offset-s2" id="borderB">
      <span class="type">Crédito</span>
      <span [style.color]="(creditBalance > 0) ? 'green' : 'red'">
        <b>$ {{ creditBalance | number: '1.2-2' }}</b>
      </span>
    </div>
    <div class="col s8 offset-s2">
      <span class="type">Total</span>
      <span [style.color]="(totalBalance > 0) ? 'green' : 'red'">
        <b>$ {{ totalBalance | number: '1.2-2' }}</b>
      </span>
    </div>
  </div>
  <div class="row">
    <div class="col s12">
      <div class="card">
          <div class="card-content">
            <span class="card-title center">Credenciales</span>
          </div>
          <div class="card-action text-right">
            <a class="btn background" [routerLink]="['/app/banks']" >
              <i class="material-icons right">add</i>Agregar
            </a>
          </div>
        </div>
    </div>
  </div>
  <div class="row">
    <div class="col s12">
        <ul class="collapsible hoverable">
            <li *ngFor="let credential of credentials">
              <div class="collapsible-header">
                
                  <div class="col m4 hide-on-small-only center">
                    <i class="hide-on-small-only material-icons">
                        <img width="80px" src="{{'https://cdn.finerio.mx/banks/'+credential.institution.code+'.png'}}">
                    </i>
                  </div>
                  <div class="col s8">
                      <h5>{{ credential.institution.name }}</h5><br>
                      <small>Actualizada: {{ credential.lastUpdated | date:'dd/MMM/yy, h:mm a'}}</small>
                  </div>
                  <div class="col s4" id="iconsRow">
                    <i *ngIf="credential.status == 'ACTIVE'" class="material-icons green-text">verified_user</i>
                    <i *ngIf="credential.status == 'VALIDATE'" class="material-icons blue-text">sync</i>
                    <i *ngIf="credential.status == 'INVALID'" class="material-icons orange-text">report_problem</i>
                    <a href="">
                        <i *ngIf="credential.status == 'ACTIVE'" class="material-icons blue-color">edit</i>
                    </a>
                    <a (click)="markToDelete(credential)">
                        <i class="material-icons blue-color">delete</i>
                    </a>
                  </div>
              </div>
              <div class="collapsible-body">
                <ul>
                  <li *ngFor="let account of accounts">
                    <div class="container row" *ngIf="account.institution.code == credential.institution.code">
                      <div class="col m3 hide-on-small-only center" style="padding-top: 2%">
                          <img width="80px"src="{{'https://cdn.finerio.mx/banks/'+account.institution.code+'_shield.png'}}" alt="institution">
                      </div>
                      <div class="col s10 m7 pt-4">
                        <span><b>Cuenta:</b> {{ account.name }}</span>
                        <br>
                        <span><b>Tipo:</b> {{ account.type }}</span>
                      </div>
                      <div class="col s2 m2 pt-4">
                          <a (click)="markToDeleteAccount(account)">
                              <i class="material-icons blue-color">delete</i>
                          </a>
                      </div>
                    </div>
                  </li>
                </ul>
              </div>
            </li>
        </ul>
    </div>
  </div>
  <!-- Modal Structure -->
  <div id="deleteConfirmation" class="modal">
    <div class="modal-content">
      <h4>¿Estás seguro que deseas eliminar las credenciales?</h4>
      <p>A bunch of text</p>
    </div>
    <div class="modal-footer">
      <a (click)="" class="modal-action modal-close waves-effect waves-green btn-flat">Aceptar</a>
    </div>
  </div>
</div>
